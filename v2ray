https://github.com/v2ray/v2ray-core
https://www.v2ray.com/
https://toutyrater.github.io/prep/install.html
https://yuan.ga/v2ray-complete-tutorial/
http://www.jianshu.com/p/b59150fd8f47
android: actinium, v2raygo, v2rayNG
和ss差不多，如果想开启全局代理，就iptables转发至本地1080端口，透明代理

server:
wget https://toutyrater.github.io/install-release.sh
sudo bash install-release.sh 
装完应在/usr/bin/v2ray/v2ray
在安装完 V2Ray 之后，修改配置文件重启 V2Ray 即可，配置文件路径为 /etc/v2ray/config.json。
/usr/bin/v2ray/v2ray --test --config config.json 
cp config.json /etc/v2ray
systemctl start v2ray

启动客户端/usr/bin/v2ray/v2ray --config v2ray-client.json, 然后浏览器设置socks5代理127.0.0.1:1080即可
v2ray的server和client都是一样的程序，和openvpn类似


v2ray还可以做中转服务器，把本服务器的流量中转到另一个服务器, outboundDetour里设置目的服务器的地址 方法 密码
outbound段里streamSettings里network格式可以设tcp kcp websocket
在 Inbound 和 Outbound 配置中添加 streamSettings 并设置 network 为 "kcp"。

streamSettings要在settings外面，服务器端只有inbound和inboundDetour需要设置kcp，客户端只有outbound需要设置，其它的删除了。
   "streamSettings": {
      "network": "kcp"
    }


//注释都去掉
v2ray-server.json

{
  "port": 12345, //通讯端口，客户端和服务端一致，自定
  "log" : {
    "access": "/var/log/v2ray/access.log", 
    "error": "/var/log/v2ray/error.log",  
    "loglevel": "warning"                  
  },
  "inbound": {
    "protocol": "vmess",    
    "settings": {
      "clients": [
        {
          "id": "293c95b0-a4a2-47d5-b6eb-da8e6894e7b8",  //UUID 在这个网站随机生成一个，https://www.uuidgenerator.net， 要保证client和server配置一个UUID
          "alterId": 55,  // 这个自定，数字范围0-100，但要保证客户端和服务端一致
          "level": 1  // 官方说明，0 共享VPS, 1 自用VPS
        }
      ]
    }
  },
  "outbound": {
    "protocol": "freedom",  
    "settings": {}
  },
  "inboundDetour": [
    {
      "protocol": "shadowsocks",   // 此段为支持SS协议部分
      "port": 1234, 
      "settings": {
        "method": "chacha20", // 加密协议支持aes-256-cfb, aes-128-cfb, chacha20 (V2Ray 1.9+), chacha20-ietf (V2Ray 1.9+)
        "password": "v2ray",     
        "udp": false             //是否支持UDP中转
      }
    }
  ],
  "outboundDetour": [
    {
      "protocol": "blackhole",  
      "settings": {},
      "tag": "blocked"
    }
  ],
  "routing": {
    "strategy": "rules",
    "settings": {
      "rules": [
        {
          "type": "field",  
          "ip": [
            "0.0.0.0/8",
            "10.0.0.0/8",
            "100.64.0.0/10",
            "127.0.0.0/8",
            "169.254.0.0/16",
            "172.16.0.0/12",
            "192.0.0.0/24",
            "192.0.2.0/24",
            "192.168.0.0/16",
            "198.18.0.0/15",
            "198.51.100.0/24",
            "203.0.113.0/24",
            "::1/128",
            "fc00::/7",
            "fe80::/10"
          ],
          "outboundTag": "blocked"
        }
      ]
    }
  }
}

-------------------------------------------

client: 同样的操作
//注释都去掉
v2ray-client.json
{
  "port": 1080,
  "log": {
    "access": ""
  },
  "inbound": {
    "protocol": "socks",
    "settings": {
      "auth": "noauth",
      "udp": false,
      "ip": "127.0.0.1"
    }
  },
  "outbound": {
    "protocol": "vmess",
    "settings": {
      "vnext": [
        {
          "address": "1.2.3.4", //服务器VPS IP地址
          "port": 12345, //通讯端口，客户端和服务端一致，自定
          "users": [
            {
              "id": "293c95b0-a4a2-47d5-b6eb-da8e6894e7b8", //UUID 在这个网站随机生成一个，https://www.uuidgenerator.net， 要保证client和server配置一个UUID
              "alterId": 55 // 这个自定，数字范围0-100，但要保证客户端和服务端一致
            }
          ]
        }
      ]
    }
  },
  "outboundDetour": [
    {
      "protocol": "freedom",
      "settings": {},
      "tag": "direct"
    }
  ],
  "routing": {
    "strategy": "rules",
    "settings": {
      "rules": [
        {
          "type": "field",
          "port": "54-79",
          "outboundTag": "direct"
        },
        {
          "type": "field",
          "port": "81-442",
          "outboundTag": "direct"
        },
        {
          "type": "field",
          "port": "444-65535",
          "outboundTag": "direct"
        },
        {
          "type": "field",
          "domain": [
            "gc.kis.scr.kaspersky-labs.com"
          ],
          "outboundTag": "direct"
        },
        {
          "type": "chinasites",
          "outboundTag": "direct"
        },
        {
          "type": "field",
          "ip": [
            "0.0.0.0/8",
            "10.0.0.0/8",
            "100.64.0.0/10",
            "127.0.0.0/8",
            "169.254.0.0/16",
            "172.16.0.0/12",
            "192.0.0.0/24",
            "192.0.2.0/24",
            "192.168.0.0/16",
            "198.18.0.0/15",
            "198.51.100.0/24",
            "203.0.113.0/24",
            "::1/128",
            "fc00::/7",
            "fe80::/10"
          ],
          "outboundTag": "direct"
        },
        {
          "type": "chinaip",
          "outboundTag": "direct"
        }
      ]
    }
  }
}
