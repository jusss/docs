SetLocal EnableDelayedExpansion
@echo off
adb.exe shell settings put global overlay_display_devices 2048x1536/300
adb shell dumpsys display > tmp.txt
:: set /p msg = < tmp.txt 
findstr /r /c:"Display [1-9][0-9]*" tmp.txt > tmp2.txt
set /p msg2= <tmp2.txt
:: echo %msg2%
for /f "tokens=1-20 delims=Display:" %%a in ("%msg2%") do (set DID= %%b)
:: echo %DID%
:: set /p id="Enter display id: "
:: echo %id%
del tmp.txt tmp2.txt
scrcpy.exe --display %DID% --window-borderless -f -Sw  
